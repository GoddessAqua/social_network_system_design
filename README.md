# System Design социальной сети для курса по System Design (https://balun.courses/courses/system_design)

Функциональные требования:
- публикация постов из путешествий с фотографиями, небольшим описанием и привязкой к конкретному месту путешествия;
- оценка и комментарии постов других путешественников;
- подписка на других путешественников, чтобы следить за их активностью;
- поиск популярных мест для путешествий и просмотр постов с этих мест;
- просмотр ленты других путешественников и ленты пользователя, основанной на подписках в обратном хронологическом порядке;

Нефункциональные требования:
- DAU 10 000 000
- Данные будем хранить всегда
- Аудитория стран СНГ
- Активности пользователей:
	- в среднем пользователь делает 1 публикацию постов в сутки
	- в среднем пользователь оценивает и комментирует посты других путешественников суммарно 10 раз в сутки
	- в среднем пользователь подписывается на других путешественников, чтобы следить за их активностью, 2 раза в сутки
	- в среднем пользователь осуществляет поиск популярных мест для путешествий и просмотр постов с этих мест 3 раза в сутки
	- в среднем пользователь просматривает ленты других путешественников и ленты пользователя, основанной на подписках в обратном хронологическом порядке, 20 раз за сутки
- Лимиты:
  - Макс. подписчиков у пользователя : 1 000 000
  - Макс. подписок у пользователя : 5000
  - Лимит новых подписок/день : 100
  - Макс. постов в день : 50
  - Макс. фото в посте : 3
  - Размер фото : 1.5 MB/фото
  - Длина описания : 1000 символов
  - Постов в ленте : 5
  - Лайков в день : 1000
  - Комментариев в день	: 100
  - Длина комментария : 500 символов
  - Макс. геометок в день в посте : 7
- Сезонность : нет, можно пользоваться в любое время, но в периоды с июня по август и в Новый год возможно увеличение нагрузки на 20%, так как это основные сезоны для путешествий
- Тайминги :
  - создание публикации поста с фото с макс. количеством фото : 3 секунды
  - лайк/комментарий : 2 секунды
  - подписка/отписка : 2 секунды
  - поиск мест : 2 секунды
  - загрузка ленты подписок : 3 секунды
- Доступность приложения : 99.9% 


photo (size 200B):
id
post_id

post (size 500B):
id
geoposition_id
user_id
description
created_at

like (size 400B):
id
post_id
user_id
created_at

comment (size 500B):
id
post_id
user_id	
text
created_at

Публикация постов :
RPS(write) = 10 000 000 * 1 / 86 400 ~ 116 

Оценки (лайки + комментарии) :
RPS(write) = 10 000 000 * 10 / 86 400 ~ 1157

Просмотр ленты :
RPS(read) = 10 000 000 * 20 / 86 400 ~ 2314

- Траффик:
	- Публикация постов : Traffic (write) = 116 * 500 = 58 000 B/s = 58 kB/s
	- Оценки (лайки + комментарии) : Traffic (write) = 1157 * 900 = 1 041 300 B/s = 1041,3 kB/s
	- Просмотр ленты : Traffic (read) = 2314 * 500 * 5 = 5 785 000 B/s = 5785 kB/s
    - Для медиа : Traffic (write) = 116 * 1.5 MB/фото * 3 фото/на 1 пост = 522 MB/s
    (при 10 фото на 10 MB : Traffic (write) = 116 * 10 MB/фото * 10 фото/на 1 пост = 11 600 MB/s = 11,6 ГБ/сек)